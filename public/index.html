<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game App</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <div id="app">
        <div id="loginScreen" class="screen">
            <h2>Login</h2>
            <div class="form-group">
                <input type="text" id="username" placeholder="Enter username">
                <input type="password" id="password" placeholder="Enter password">
                <button id="loginButton">Login</button>
                <div id="loginError" class="error">LOGIN ERRORS GO HERE</div>
            </div>
            <div class="form-group">
                <p>Don't have an account? <button id="showRegisterButton">Register</button></p>
                <p class="admin-link"><a href="#" id="adminLink">MongoDB Admin</a></p>
            </div>
        </div>

        <div id="registerScreen" class="screen hidden">
            <h2>Register</h2>
            <div class="form-group">
                <input type="text" id="registerUsername" placeholder="Choose username">
                <input type="text" id="registerNickname" placeholder="Choose nickname (optional)">
                <input type="password" id="registerPassword" placeholder="Choose password">
                <input type="password" id="confirmPassword" placeholder="Confirm password">
                <button id="registerButton">Register</button>
                <div id="registerError" class="error">REGISTER ERRORS GO HERE</div>
            </div>
            <div class="form-group">
                <p>Already have an account? <button id="showLoginButton">Login</button></p>
            </div>
        </div>

        <div id="lobbyScreen" class="screen hidden">
            <div class="header">
                <h2>Game Lobby</h2>
                <div class="header-buttons">
                    <button id="settingsButton" class="icon-btn">⚙️</button>
                    <button id="logoutButton" class="logout-btn">Logout</button>
                </div>
            </div>
            <div class="form-group">
                <input type="text" id="gameName" placeholder="Enter game name">
                <button id="createGameButton">Create Game</button>
                <div id="lobbyError" class="error">LOBBY ERRORS GO HERE</div>
            </div>
            <div id="gamesList"></div>
            <div id="refreshTimer" class="refresh-timer"></div>
        </div>

        <div id="settingsScreen" class="screen hidden">
            <div class="header">
                <h2>Settings</h2>
                <button id="backToLobbyFromSettings" class="back-btn">← Back</button>
            </div>
            <div class="form-group">
                <h3>Profile Settings</h3>
                <input type="text" id="currentNickname" placeholder="Enter new nickname">
                <button id="changeNicknameButton">Update Nickname</button>
            </div>
            <div class="form-group">
                <h3>Change Password</h3>
                <input type="password" id="currentPassword" placeholder="Current Password">
                <input type="password" id="newPassword" placeholder="New Password">
                <input type="password" id="confirmNewPassword" placeholder="Confirm New Password">
                <button id="changePasswordButton">Change Password</button>
                <div id="settingsError" class="error">SETTINGS ERRORS GO HERE</div>
            </div>
            <div class="form-group">
                <h3>Danger Zone</h3>
                <button id="deleteAccountButton" class="delete-btn">Delete Account</button>
            </div>
        </div>

        <div id="gameScreen" class="screen hidden">
            <h2>Game</h2>
            <div id="gameContent"></div>
            <button id="backToLobbyButton">Back to Lobby</button>
            <div id="gameError" class="error">GAME ERRORS GO HERE</div>
        </div>
    </div>
    <script type="module" src="/js/api.js"></script>
    <script type="module" src="/js/ui.js"></script>
    <script type="module" src="/js/app.js"></script>
</body>
</html>